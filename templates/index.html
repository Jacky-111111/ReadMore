<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ReadMore</title>
  <link rel="icon" type="image/svg+xml" href="/static/favicon.svg" />
  <link rel="stylesheet" href="/static/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=VT323&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet" />
</head>
<body>
  <div class="fireplace">
    <header class="chimney">
      <div class="chimney-center">
        <h1 class="logo">ReadMore</h1>
        <p class="tagline">Find your next book by the fire.</p>
      </div>
      <button type="button" class="btn btn-info" id="infoBtn" title="About recommendations &amp; privacy" aria-label="Info">i</button>
    </header>
    <div class="info-overlay" id="infoOverlay" aria-hidden="true">
      <div class="info-modal panel">
        <h2 class="section-title">About ReadMore</h2>
        <div class="info-content">
          <h3>Recommendation algorithm</h3>
          <p>Recommendations are <strong>content-based</strong>: we look at the subjects and authors of the books you like or add to your collection, find more books in those subjects (via Open Library), score each candidate, and show the top picks with short reasons. We limit how many books come from any one subject so the list stays varied.</p>
          <h4>How your actions change your profile</h4>
          <ul>
            <li><strong>üëç Like</strong>: each subject +2, each author +3; if the book was published before 1980 we add +1 to ‚Äúclassic‚Äù, otherwise +1 to ‚Äúmodern‚Äù.</li>
            <li><strong>üëé Dislike</strong>: each subject ‚àí1, each author ‚àí2.</li>
            <li><strong>‚úÖ Add to collection</strong>: each subject +1 (no author or era change).</li>
          </ul>
          <h4>How we score each recommendation</h4>
          <ul>
            <li>For each <strong>subject</strong> the book has that you like: add <strong>2 √ó your subject weight</strong> to the score.</li>
            <li>If the book‚Äôs <strong>author</strong> is one you like: add <strong>3 √ó your author weight</strong> to the score.</li>
            <li>If the book‚Äôs <strong>era</strong> (classic = before 1980, modern = 1980+) matches your preference: add <strong>0.5 √ó your era weight</strong> to the score.</li>
            <li>Books you‚Äôve already liked, disliked, or saved are excluded from recommendations.</li>
          </ul>
          <h3>Privacy &amp; data</h3>
          <p>We use the <strong>public Open Library API</strong> (no API key required). All of your data‚Äîlikes, dislikes, and collection‚Äîis stored <strong>only in your browser</strong> (localStorage). We do not send your preferences to any server; only anonymous book searches and recommendation requests go to Open Library. Your reading tastes stay on your device and are not shared or stored elsewhere.</p>
        </div>
        <button type="button" class="btn btn-primary info-close" id="infoClose">Close</button>
      </div>
    </div>
    <div class="book-detail-overlay" id="bookDetailOverlay" aria-hidden="true">
      <div class="book-detail-modal panel">
        <div class="book-detail-layout">
          <div class="book-detail-cover" id="bookDetailCover"></div>
          <div class="book-detail-main">
            <h2 class="book-detail-title" id="bookDetailTitle"></h2>
            <p class="book-detail-meta" id="bookDetailMeta"></p>
            <p class="book-detail-isbn" id="bookDetailIsbn"></p>
            <p class="book-detail-genre" id="bookDetailGenre"></p>
            <div class="book-detail-description" id="bookDetailDescription"></div>
          </div>
        </div>
        <button type="button" class="btn btn-primary book-detail-close" id="bookDetailClose">Close</button>
      </div>
    </div>
    <div class="app layout-three-col">
      <aside class="col-shelf">
        <section class="shelf-panel panel">
          <h2 class="section-title">Shelf ¬∑ My Collection</h2>
          <p id="shelfEmpty" class="empty">Books you add to your collection will appear here.</p>
          <div id="shelfList" class="shelf-books"></div>
        </section>
      </aside>
      <div class="col-center">
        <section class="search-panel panel">
          <h2 class="section-title">Search</h2>
          <div class="search-row">
            <input type="text" id="searchInput" class="input" placeholder="Title, author, or topic‚Ä¶" />
            <button type="button" id="searchBtn" class="btn btn-primary">Search</button>
          </div>
          <p id="searchError" class="error" aria-live="polite"></p>
        </section>
        <section class="results-panel panel collapsed" id="resultsPanel" aria-hidden="true">
          <div class="results-panel-header">
            <h2 class="section-title">Results</h2>
            <button type="button" class="btn btn-close-results" id="resultsClose" aria-label="Close results">√ó</button>
          </div>
          <div id="resultsList" class="cards"></div>
          <p id="resultsEmpty" class="empty">Search for books to see results.</p>
        </section>
      </div>
      <aside class="col-recommend">
        <section class="recommend-panel panel">
          <div class="recommend-panel-header">
            <h2 class="section-title">Recommendations</h2>
            <button type="button" class="btn btn-refresh-recommend" id="recommendRefresh" aria-label="Refresh recommendations" title="Refresh">‚Üª</button>
          </div>
          <p id="recommendMessage" class="empty">Add books to your collection to get personalized recommendations.</p>
          <div id="recommendList" class="cards"></div>
          <div id="recommendPagination" class="recommend-pagination hidden"></div>
        </section>
      </aside>
    </div>
    <section class="reading-timer-panel panel reading-timer-fixed" id="readingTimerFixed">
      <h2 class="section-title">Reading timer</h2>
      <div class="timer-scene-wrap">
        <button type="button" class="btn btn-arrow" id="timerPrev" aria-label="Previous">‚Äπ</button>
        <div class="timer-scene" id="timerScene">
          <div class="pixel-fireplace" id="pixelFireplace">
            <div class="fireplace-bricks"></div>
            <div class="fireplace-flames">
              <span class="flame f1"></span><span class="flame f2"></span><span class="flame f3"></span>
              <span class="flame f4"></span><span class="flame f5"></span>
            </div>
          </div>
          <div class="pixel-candle hidden" id="pixelCandle">
            <div class="candle-flame"></div>
            <div class="candle-wick"></div>
            <div class="candle-wrap"><div class="candle-wax" id="candleWax"></div></div>
          </div>
        </div>
        <button type="button" class="btn btn-arrow" id="timerNext" aria-label="Next">‚Ä∫</button>
      </div>
      <div class="timer-duration hidden" id="timerDuration">
        <button type="button" class="btn btn-dur active" data-min="10">10 min</button>
        <button type="button" class="btn btn-dur" data-min="30">30 min</button>
        <button type="button" class="btn btn-dur" data-min="60">1 hr</button>
      </div>
      <div class="timer-display" id="timerDisplay">0:00</div>
      <button type="button" class="btn btn-primary btn-start" id="timerStart">Start reading</button>
    </section>
    <div class="hearth"></div>
    <p class="copyright">¬© Jack Yu. Created with help of ChatGPT and Cursor.</p>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
